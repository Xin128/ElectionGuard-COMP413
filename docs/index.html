<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>typescript-boilerplate-2021</title>
	<meta name="description" content="Documentation for typescript-boilerplate-2021">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">typescript-boilerplate-2021</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>typescript-boilerplate-2021</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#comp413-capstone-project-electionguard" id="comp413-capstone-project-electionguard" style="color: inherit; text-decoration: none;">
					<h2>COMP413 Capstone Project: ElectionGuard</h2>
				</a>
				<a href="#project-description" id="project-description" style="color: inherit; text-decoration: none;">
					<h3>Project Description</h3>
				</a>
				<p>Pitch: Integrate “e2e” voting cryptography in a remote vote-by-mail system</p>
				<p>Microsoft developed the the ElectionGuard SDK to ensure end-to-end verification in voting process.</p>
				<p>With current ElectionGuard encryption system, we can enhance the accessibility of remote voting process with a real-time user interface. It can function as a web page or a mobile application, which integrates with the current ElectionGuard package. As addressed in the documentation of electionGuard, a collaboration with VotingWorks could definitely help facilitate this process as well. I believe that a successful implementation of this system could heavily improve the voter experience with ElectionGuard SDK.</p>
				<p>Design &amp; Implementation challenges:</p>
				<p>In order to restore trust from voters, the front-end web page should protect user&#39;s privacy. How to
					How to integrate the user interface with backend pipeline, and how to make it compatible with the required scanning process?
				How to sync ballot result / encrypted code on both mobile and web? How to avoid duplicate requests of a same user from multiple devices?</p>
				<p>Microsoft ElectionGuard is a technology that implements “end to end” verifiable voting systems. It’s an open source project, with a “reference implementation” in Python as well as a subset implemented in C/C++. There is even an older, abandoned version in Rust, and an experimental educational version in Kotlin.</p>
				<p>Accessible vote-by-mail systems generally run in-browser and help voters ultimately produce a paper ballot, which they print at home and submit via the postal mail. In an e2e version of this, we would pass the user’s preferences into ElectionGuard, compute the entire encrypted ballot, take its hash, and print that as a “receipt” for the voter to keep and ultimately verify their ballot. There’s also a random number, printed on the ballot, from which the ciphertext can be deterministically rederived.</p>
				<p> </p>
				<p>Implementation challenges:
					How to implement this in the browser? WebAssembly for the cryptographic parts? Pure TypeScript?
					How to test and validate compatibility with the existing ElectionGuard?
				Which AVBM technology to integrate with for a demo? Anywhere Ballot? One of the VotingWorks projects?</p>
				<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
					<h3>Getting Started</h3>
				</a>
				<pre><code class="language-bash"><span style="color: #008000"># Install dependencies</span>
<span style="color: #000000">yarn install</span>

<span style="color: #008000"># Now you can run various yarn commands:</span>
<span style="color: #000000">yarn cli</span>
<span style="color: #000000">yarn lint</span>
<span style="color: #000000">yarn </span><span style="color: #795E26">test</span>
<span style="color: #000000">yarn build-all</span>
<span style="color: #000000">yarn ts-node &lt;filename&gt;</span>
<span style="color: #000000">yarn esbuild-browser</span>
<span style="color: #000000">...</span>
</code></pre>
				<ul>
					<li>Take a look at all the scripts in package.json</li>
					<li>For publishing to npm, use <code>yarn publish</code> (or <code>npm publish</code>)</li>
				</ul>
				<a href="#esbuild" id="esbuild" style="color: inherit; text-decoration: none;">
					<h3>esbuild</h3>
				</a>
				<p><a href="https://esbuild.github.io/">esbuild</a> is an extremely fast bundler that supports a <a href="https://esbuild.github.io/content-types/#typescript">large part of the TypeScript syntax</a>. This project uses it to bundle for browsers (and Node.js if you want).</p>
				<pre><code class="language-bash"><span style="color: #008000"># Build for browsers</span>
<span style="color: #000000">yarn esbuild-browser:dev</span>
<span style="color: #000000">yarn esbuild-browser:watch</span>

<span style="color: #008000"># Build the cli for node</span>
<span style="color: #000000">yarn esbuild-node:dev</span>
<span style="color: #000000">yarn esbuild-node:watch</span>
</code></pre>
				<p>You can generate a full clean build with <code>yarn build-all</code> (which uses both <code>tsc</code> and <code>esbuild</code>).</p>
				<ul>
					<li><code>package.json</code> includes <code>scripts</code> for various esbuild commands: <a href="https://github.com/metachris/typescript-boilerplate/blob/master/package.json#L23">see here</a></li>
					<li><code>esbuild</code> has a <code>--global-name=xyz</code> flag, to store the exports from the entry point in a global variable. See also the <a href="https://esbuild.github.io/api/#global-name">esbuild &quot;Global name&quot; docs</a>.</li>
					<li>Read more about the esbuild setup <a href="https://www.metachris.com/2021/04/starting-a-typescript-project-in-2021/#esbuild">here</a>.</li>
					<li>esbuild for the browser uses the IIFE (immediately-invoked function expression) format, which executes the bundled code on load (see also <a href="https://github.com/evanw/esbuild/issues/29">https://github.com/evanw/esbuild/issues/29</a>)</li>
				</ul>
				<a href="#tests-with-jest" id="tests-with-jest" style="color: inherit; text-decoration: none;">
					<h3>Tests with Jest</h3>
				</a>
				<p>You can write <a href="https://jestjs.io/docs/getting-started">Jest tests</a> <a href="https://github.com/metachris/typescript-boilerplate/blob/master/src/main.test.ts">like this</a>:</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">greet</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;./main&#039;</span>

<span style="color: #795E26">test</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;the data is peanut butter&#039;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">)</span>
<span style="color: #000000">});</span>

<span style="color: #795E26">test</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;greeting&#039;</span><span style="color: #000000">, () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #795E26">greet</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Foo&#039;</span><span style="color: #000000">)).</span><span style="color: #795E26">toBe</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Hello Foo&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">});</span>
</code></pre>
				<p>Run the tests with <code>yarn test</code>, no separate compile step is necessary.</p>
				<ul>
					<li>See also the <a href="https://jestjs.io/docs/getting-started">Jest documentation</a>.</li>
					<li>The tests can be automatically run in CI (GitHub Actions, GitLab CI): <a href="https://github.com/metachris/typescript-boilerplate/blob/master/.github/workflows/lint-and-test.yml"><code>.github/workflows/lint-and-test.yml</code></a>, <a href="https://github.com/metachris/typescript-boilerplate/blob/master/.gitlab-ci.yml"><code>.gitlab-ci.yml</code></a></li>
					<li>Take a look at other modern test runners such as <a href="https://github.com/avajs/ava">ava</a>, <a href="https://github.com/lukeed/uvu">uvu</a> and <a href="https://github.com/substack/tape">tape</a></li>
				</ul>
				<a href="#documentation-published-with-ci" id="documentation-published-with-ci" style="color: inherit; text-decoration: none;">
					<h3>Documentation, published with CI</h3>
				</a>
				<p>You can auto-generate API documentation from the TypeScript source files using <a href="https://typedoc.org/guides/doccomments/">TypeDoc</a>. The generated documentation can be published to GitHub / GitLab pages through the CI.</p>
				<p>Generate the documentation, using <code>src/main.ts</code> as entrypoint (configured in package.json):</p>
				<pre><code class="language-bash"><span style="color: #000000">yarn docs</span>
</code></pre>
				<p>The resulting HTML is saved in <code>docs/</code>.</p>
				<p>You can publish the documentation through CI:</p>
				<ul>
					<li><a href="https://pages.github.com/">GitHub pages</a>: See <a href="https://github.com/metachris/typescript-boilerplate/blob/master/.github/workflows/deploy-gh-pages.yml"><code>.github/workflows/deploy-gh-pages.yml</code></a></li>
					<li><a href="https://docs.gitlab.com/ee/user/project/pages/">GitLab pages</a>: <a href="https://github.com/metachris/typescript-boilerplate/blob/master/.gitlab-ci.yml"><code>.gitlab-ci.yml</code></a></li>
				</ul>
				<p>This is the documentation for this boilerplate project: <a href="https://metachris.github.io/typescript-boilerplate/">https://metachris.github.io/typescript-boilerplate/</a></p>
				<a href="#references" id="references" style="color: inherit; text-decoration: none;">
					<h3>References</h3>
				</a>
				<ul>
					<li><strong><a href="https://github.com/metachris/typescript-boilerplate">TypeScript Boilerplate</a></strong></li>
					<li><a href="https://www.metachris.com/2021/03/bootstrapping-a-typescript-node.js-project/">Blog post: Starting a TypeScript Project in 2021</a></li>
					<li><a href="https://www.typescriptlang.org/docs/handbook/intro.html">TypeScript Handbook</a></li>
					<li><a href="https://www.typescriptlang.org/tsconfig">tsconfig docs</a></li>
					<li><a href="https://esbuild.github.io/">esbuild docs</a></li>
					<li><a href="https://github.com/typescript-eslint/typescript-eslint/blob/master/docs/getting-started/linting/README.md">typescript-eslint docs</a></li>
					<li><a href="https://jestjs.io/docs/getting-started">Jest docs</a></li>
					<li><a href="https://docs.github.com/en/actions">GitHub Actions</a>, <a href="https://docs.gitlab.com/ee/ci/">GitLab CI</a></li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>